ingress:
  enabled: false

phpClientHttpsFix:
  enabled: true
  protocol: https

nextcloud:
  host: intra.localhost

  configs:
    # 'trusted_proxies' are the cloudflare proxies listed here https://www.cloudflare.com/ips-v4/
    trusted_domains.config.php: |-
      <?php
      $CONFIG = array (
        'trusted_domains' => ['intra.localhost', 'intra.company.com'],
        'trusted_proxies' => [ '173.245.48.0/20', '103.21.244.0/22', '103.22.200.0/22', '103.31.4.0/22', '141.101.64.0/18', '108.162.192.0/18', '190.93.240.0/20', '188.114.96.0/20', '197.234.240.0/22', '198.41.128.0/17', '162.158.0.0/15', '104.16.0.0/13', '104.24.0.0/14', '172.64.0.0/13', '131.0.72.0/22' ]
      );  

  existingSecret:
    enabled: true
    secretName: nextcloud-secrets
    usernameKey: nextcloud-username
    passwordKey: nextcloud-password
    tokenKey: nextcloud-token

internalDatabase:
  enabled: false
  name: nextcloud

##
## External database configuration
##
externalDatabase:
  enabled: true

  ## Supported database engines: mysql or postgresql
  type: mysql

  ## Database host
  host: "nextcloud-mariadb:3306"

  ## Database user
  user: root

  ## Database password
  password: ""

  ## Database name
  database: my_database

  ## Use a existing secret
  existingSecret:
    enabled: true
    secretName: nextcloud-mariadb-secrets
    usernameKey: mariadb-root-user
    passwordKey: mariadb-root-password
    # hostKey: db-hostname-or-ip
    # databaseKey: db-name

## Enable persistence using Persistent Volume Claims
## ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
##
persistence:
  # Nextcloud Data (/var/www/html)
  enabled: true
  existingClaim: "nextcloud-pvc"
